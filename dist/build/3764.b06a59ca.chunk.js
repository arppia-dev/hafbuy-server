(self.webpackChunke_commerce_server=self.webpackChunke_commerce_server||[]).push([[3764],{10284:(f,M,t)=>{"use strict";const e=t(97092),u=Symbol("max"),i=Symbol("length"),c=Symbol("lengthCalculator"),h=Symbol("allowStale"),s=Symbol("maxAge"),n=Symbol("dispose"),r=Symbol("noDisposeOnSet"),a=Symbol("lruList"),l=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1;class x{constructor(o){if(typeof o=="number"&&(o={max:o}),o||(o={}),o.max&&(typeof o.max!="number"||o.max<0))throw new TypeError("max must be a non-negative number");const y=this[u]=o.max||1/0,v=o.length||p;if(this[c]=typeof v!="function"?p:v,this[h]=o.stale||!1,o.maxAge&&typeof o.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=o.maxAge||0,this[n]=o.dispose,this[r]=o.noDisposeOnSet||!1,this[d]=o.updateAgeOnGet||!1,this.reset()}set max(o){if(typeof o!="number"||o<0)throw new TypeError("max must be a non-negative number");this[u]=o||1/0,D(this)}get max(){return this[u]}set allowStale(o){this[h]=!!o}get allowStale(){return this[h]}set maxAge(o){if(typeof o!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=o,D(this)}get maxAge(){return this[s]}set lengthCalculator(o){typeof o!="function"&&(o=p),o!==this[c]&&(this[c]=o,this[i]=0,this[a].forEach(y=>{y.length=this[c](y.value,y.key),this[i]+=y.length})),D(this)}get lengthCalculator(){return this[c]}get length(){return this[i]}get itemCount(){return this[a].length}rforEach(o,y){y=y||this;for(let v=this[a].tail;v!==null;){const A=v.prev;F(this,o,v,y),v=A}}forEach(o,y){y=y||this;for(let v=this[a].head;v!==null;){const A=v.next;F(this,o,v,y),v=A}}keys(){return this[a].toArray().map(o=>o.key)}values(){return this[a].toArray().map(o=>o.value)}reset(){this[n]&&this[a]&&this[a].length&&this[a].forEach(o=>this[n](o.key,o.value)),this[l]=new Map,this[a]=new e,this[i]=0}dump(){return this[a].map(o=>b(this,o)?!1:{k:o.key,v:o.value,e:o.now+(o.maxAge||0)}).toArray().filter(o=>o)}dumpLru(){return this[a]}set(o,y,v){if(v=v||this[s],v&&typeof v!="number")throw new TypeError("maxAge must be a number");const A=v?Date.now():0,S=this[c](y,o);if(this[l].has(o)){if(S>this[u])return L(this,this[l].get(o)),!1;const V=this[l].get(o).value;return this[n]&&(this[r]||this[n](o,V.value)),V.now=A,V.maxAge=v,V.value=y,this[i]+=S-V.length,V.length=S,this.get(o),D(this),!0}const ee=new X(o,y,S,A,v);return ee.length>this[u]?(this[n]&&this[n](o,y),!1):(this[i]+=ee.length,this[a].unshift(ee),this[l].set(o,this[a].head),D(this),!0)}has(o){if(!this[l].has(o))return!1;const y=this[l].get(o).value;return!b(this,y)}get(o){return P(this,o,!0)}peek(o){return P(this,o,!1)}pop(){const o=this[a].tail;return o?(L(this,o),o.value):null}del(o){L(this,this[l].get(o))}load(o){this.reset();const y=Date.now();for(let v=o.length-1;v>=0;v--){const A=o[v],S=A.e||0;if(S===0)this.set(A.k,A.v);else{const ee=S-y;ee>0&&this.set(A.k,A.v,ee)}}}prune(){this[l].forEach((o,y)=>P(this,y,!1))}}const P=(T,o,y)=>{const v=T[l].get(o);if(v){const A=v.value;if(b(T,A)){if(L(T,v),!T[h])return}else y&&(T[d]&&(v.value.now=Date.now()),T[a].unshiftNode(v));return A.value}},b=(T,o)=>{if(!o||!o.maxAge&&!T[s])return!1;const y=Date.now()-o.now;return o.maxAge?y>o.maxAge:T[s]&&y>T[s]},D=T=>{if(T[i]>T[u])for(let o=T[a].tail;T[i]>T[u]&&o!==null;){const y=o.prev;L(T,o),o=y}},L=(T,o)=>{if(o){const y=o.value;T[n]&&T[n](y.key,y.value),T[i]-=y.length,T[l].delete(y.key),T[a].removeNode(o)}};class X{constructor(o,y,v,A,S){this.key=o,this.value=y,this.length=v,this.now=A,this.maxAge=S||0}}const F=(T,o,y,v)=>{let A=y.value;b(T,A)&&(L(T,y),T[h]||(A=void 0)),A&&o.call(v,A.value,A.key,T)};f.exports=x},57908:(f,M,t)=>{const e=Symbol("SemVer ANY");class u{static get ANY(){return e}constructor(d,p){if(p=i(p),d instanceof u){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),n("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===e?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}parse(d){const p=this.options.loose?c[h.COMPARATORLOOSE]:c[h.COMPARATOR],x=d.match(p);if(!x)throw new TypeError(`Invalid comparator: ${d}`);this.operator=x[1]!==void 0?x[1]:"",this.operator==="="&&(this.operator=""),x[2]?this.semver=new r(x[2],this.options.loose):this.semver=e}toString(){return this.value}test(d){if(n("Comparator.test",d,this.options.loose),this.semver===e||d===e)return!0;if(typeof d=="string")try{d=new r(d,this.options)}catch{return!1}return s(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof u))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new a(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new a(this.value,p).test(d.semver):(p=i(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||s(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||s(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}f.exports=u;const i=t(12652),{safeRe:c,t:h}=t(83972),s=t(336),n=t(10716),r=t(94120),a=t(44892)},44892:(f,M,t)=>{class e{constructor(g,R){if(R=c(R),g instanceof e)return g.loose===!!R.loose&&g.includePrerelease===!!R.includePrerelease?g:new e(g.raw,R);if(g instanceof h)return this.raw=g.value,this.set=[[g]],this.format(),this;if(this.options=R,this.loose=!!R.loose,this.includePrerelease=!!R.includePrerelease,this.raw=g.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(E=>this.parseRange(E.trim())).filter(E=>E.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const E=this.set[0];if(this.set=this.set.filter(C=>!b(C[0])),this.set.length===0)this.set=[E];else if(this.set.length>1){for(const C of this.set)if(C.length===1&&D(C[0])){this.set=[C];break}}}this.format()}format(){return this.range=this.set.map(g=>g.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(g){const E=((this.options.includePrerelease&&x)|(this.options.loose&&P))+":"+g,C=i.get(E);if(C)return C;const j=this.options.loose,O=j?r[a.HYPHENRANGELOOSE]:r[a.HYPHENRANGE];g=g.replace(O,V(this.options.includePrerelease)),s("hyphen replace",g),g=g.replace(r[a.COMPARATORTRIM],l),s("comparator trim",g),g=g.replace(r[a.TILDETRIM],d),s("tilde trim",g),g=g.replace(r[a.CARETTRIM],p),s("caret trim",g);let H=g.split(" ").map(Z=>X(Z,this.options)).join(" ").split(/\s+/).map(Z=>ae(Z,this.options));j&&(H=H.filter(Z=>(s("loose invalid filter",Z,this.options),!!Z.match(r[a.COMPARATORLOOSE])))),s("range list",H);const w=new Map,U=H.map(Z=>new h(Z,this.options));for(const Z of U){if(b(Z))return[Z];w.set(Z.value,Z)}w.size>1&&w.has("")&&w.delete("");const k=[...w.values()];return i.set(E,k),k}intersects(g,R){if(!(g instanceof e))throw new TypeError("a Range is required");return this.set.some(E=>L(E,R)&&g.set.some(C=>L(C,R)&&E.every(j=>C.every(O=>j.intersects(O,R)))))}test(g){if(!g)return!1;if(typeof g=="string")try{g=new n(g,this.options)}catch{return!1}for(let R=0;R<this.set.length;R++)if(he(this.set[R],g,this.options))return!0;return!1}}f.exports=e;const u=t(10284),i=new u({max:1e3}),c=t(12652),h=t(57908),s=t(10716),n=t(94120),{safeRe:r,t:a,comparatorTrimReplace:l,tildeTrimReplace:d,caretTrimReplace:p}=t(83972),{FLAG_INCLUDE_PRERELEASE:x,FLAG_LOOSE:P}=t(35496),b=m=>m.value==="<0.0.0-0",D=m=>m.value==="",L=(m,g)=>{let R=!0;const E=m.slice();let C=E.pop();for(;R&&E.length;)R=E.every(j=>C.intersects(j,g)),C=E.pop();return R},X=(m,g)=>(s("comp",m,g),m=y(m,g),s("caret",m),m=T(m,g),s("tildes",m),m=A(m,g),s("xrange",m),m=ee(m,g),s("stars",m),m),F=m=>!m||m.toLowerCase()==="x"||m==="*",T=(m,g)=>m.trim().split(/\s+/).map(R=>o(R,g)).join(" "),o=(m,g)=>{const R=g.loose?r[a.TILDELOOSE]:r[a.TILDE];return m.replace(R,(E,C,j,O,H)=>{s("tilde",m,E,C,j,O,H);let w;return F(C)?w="":F(j)?w=`>=${C}.0.0 <${+C+1}.0.0-0`:F(O)?w=`>=${C}.${j}.0 <${C}.${+j+1}.0-0`:H?(s("replaceTilde pr",H),w=`>=${C}.${j}.${O}-${H} <${C}.${+j+1}.0-0`):w=`>=${C}.${j}.${O} <${C}.${+j+1}.0-0`,s("tilde return",w),w})},y=(m,g)=>m.trim().split(/\s+/).map(R=>v(R,g)).join(" "),v=(m,g)=>{s("caret",m,g);const R=g.loose?r[a.CARETLOOSE]:r[a.CARET],E=g.includePrerelease?"-0":"";return m.replace(R,(C,j,O,H,w)=>{s("caret",m,C,j,O,H,w);let U;return F(j)?U="":F(O)?U=`>=${j}.0.0${E} <${+j+1}.0.0-0`:F(H)?j==="0"?U=`>=${j}.${O}.0${E} <${j}.${+O+1}.0-0`:U=`>=${j}.${O}.0${E} <${+j+1}.0.0-0`:w?(s("replaceCaret pr",w),j==="0"?O==="0"?U=`>=${j}.${O}.${H}-${w} <${j}.${O}.${+H+1}-0`:U=`>=${j}.${O}.${H}-${w} <${j}.${+O+1}.0-0`:U=`>=${j}.${O}.${H}-${w} <${+j+1}.0.0-0`):(s("no pr"),j==="0"?O==="0"?U=`>=${j}.${O}.${H}${E} <${j}.${O}.${+H+1}-0`:U=`>=${j}.${O}.${H}${E} <${j}.${+O+1}.0-0`:U=`>=${j}.${O}.${H} <${+j+1}.0.0-0`),s("caret return",U),U})},A=(m,g)=>(s("replaceXRanges",m,g),m.split(/\s+/).map(R=>S(R,g)).join(" ")),S=(m,g)=>{m=m.trim();const R=g.loose?r[a.XRANGELOOSE]:r[a.XRANGE];return m.replace(R,(E,C,j,O,H,w)=>{s("xRange",m,E,C,j,O,H,w);const U=F(j),k=U||F(O),Z=k||F(H),q=Z;return C==="="&&q&&(C=""),w=g.includePrerelease?"-0":"",U?C===">"||C==="<"?E="<0.0.0-0":E="*":C&&q?(k&&(O=0),H=0,C===">"?(C=">=",k?(j=+j+1,O=0,H=0):(O=+O+1,H=0)):C==="<="&&(C="<",k?j=+j+1:O=+O+1),C==="<"&&(w="-0"),E=`${C+j}.${O}.${H}${w}`):k?E=`>=${j}.0.0${w} <${+j+1}.0.0-0`:Z&&(E=`>=${j}.${O}.0${w} <${j}.${+O+1}.0-0`),s("xRange return",E),E})},ee=(m,g)=>(s("replaceStars",m,g),m.trim().replace(r[a.STAR],"")),ae=(m,g)=>(s("replaceGTE0",m,g),m.trim().replace(r[g.includePrerelease?a.GTE0PRE:a.GTE0],"")),V=m=>(g,R,E,C,j,O,H,w,U,k,Z,q,me)=>(F(E)?R="":F(C)?R=`>=${E}.0.0${m?"-0":""}`:F(j)?R=`>=${E}.${C}.0${m?"-0":""}`:O?R=`>=${R}`:R=`>=${R}${m?"-0":""}`,F(U)?w="":F(k)?w=`<${+U+1}.0.0-0`:F(Z)?w=`<${U}.${+k+1}.0-0`:q?w=`<=${U}.${k}.${Z}-${q}`:m?w=`<${U}.${k}.${+Z+1}-0`:w=`<=${w}`,`${R} ${w}`.trim()),he=(m,g,R)=>{for(let E=0;E<m.length;E++)if(!m[E].test(g))return!1;if(g.prerelease.length&&!R.includePrerelease){for(let E=0;E<m.length;E++)if(s(m[E].semver),m[E].semver!==h.ANY&&m[E].semver.prerelease.length>0){const C=m[E].semver;if(C.major===g.major&&C.minor===g.minor&&C.patch===g.patch)return!0}return!1}return!0}},2860:(f,M,t)=>{const e=t(16536),u=(i,c)=>{const h=e(i.trim().replace(/^[=v]+/,""),c);return h?h.version:null};f.exports=u},336:(f,M,t)=>{const e=t(13720),u=t(36552),i=t(20236),c=t(2060),h=t(17892),s=t(61780),n=(r,a,l,d)=>{switch(a){case"===":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r===l;case"!==":return typeof r=="object"&&(r=r.version),typeof l=="object"&&(l=l.version),r!==l;case"":case"=":case"==":return e(r,l,d);case"!=":return u(r,l,d);case">":return i(r,l,d);case">=":return c(r,l,d);case"<":return h(r,l,d);case"<=":return s(r,l,d);default:throw new TypeError(`Invalid operator: ${a}`)}};f.exports=n},93515:(f,M,t)=>{const e=t(94120),u=t(16536),{safeRe:i,t:c}=t(83972),h=(s,n)=>{if(s instanceof e)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;n=n||{};let r=null;if(!n.rtl)r=s.match(i[c.COERCE]);else{let a;for(;(a=i[c.COERCERTL].exec(s))&&(!r||r.index+r[0].length!==s.length);)(!r||a.index+a[0].length!==r.index+r[0].length)&&(r=a),i[c.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;i[c.COERCERTL].lastIndex=-1}return r===null?null:u(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,n)};f.exports=h},24907:(f,M,t)=>{const e=t(94120),u=(i,c,h)=>{const s=new e(i,h),n=new e(c,h);return s.compare(n)||s.compareBuild(n)};f.exports=u},63360:(f,M,t)=>{const e=t(66880),u=(i,c)=>e(i,c,!0);f.exports=u},61240:(f,M,t)=>{const e=t(16536),u=(i,c)=>{const h=e(i,null,!0),s=e(c,null,!0),n=h.compare(s);if(n===0)return null;const r=n>0,a=r?h:s,l=r?s:h,d=!!a.prerelease.length;if(!!l.prerelease.length&&!d)return!l.patch&&!l.minor?"major":a.patch?"patch":a.minor?"minor":"major";const x=d?"pre":"";return h.major!==s.major?x+"major":h.minor!==s.minor?x+"minor":h.patch!==s.patch?x+"patch":"prerelease"};f.exports=u},13720:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(i,c,h)===0;f.exports=u},20236:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(i,c,h)>0;f.exports=u},2060:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(i,c,h)>=0;f.exports=u},62472:(f,M,t)=>{const e=t(94120),u=(i,c,h,s,n)=>{typeof h=="string"&&(n=s,s=h,h=void 0);try{return new e(i instanceof e?i.version:i,h).inc(c,s,n).version}catch{return null}};f.exports=u},61780:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(i,c,h)<=0;f.exports=u},49368:(f,M,t)=>{const e=t(94120),u=(i,c)=>new e(i,c).major;f.exports=u},84780:(f,M,t)=>{const e=t(94120),u=(i,c)=>new e(i,c).minor;f.exports=u},36552:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(i,c,h)!==0;f.exports=u},83680:(f,M,t)=>{const e=t(94120),u=(i,c)=>new e(i,c).patch;f.exports=u},18920:(f,M,t)=>{const e=t(16536),u=(i,c)=>{const h=e(i,c);return h&&h.prerelease.length?h.prerelease:null};f.exports=u},58472:(f,M,t)=>{const e=t(66880),u=(i,c,h)=>e(c,i,h);f.exports=u},78516:(f,M,t)=>{const e=t(24907),u=(i,c)=>i.sort((h,s)=>e(s,h,c));f.exports=u},48808:(f,M,t)=>{const e=t(44892),u=(i,c,h)=>{try{c=new e(c,h)}catch{return!1}return c.test(i)};f.exports=u},84032:(f,M,t)=>{const e=t(24907),u=(i,c)=>i.sort((h,s)=>e(h,s,c));f.exports=u},77492:(f,M,t)=>{const e=t(83972),u=t(35496),i=t(94120),c=t(91396),h=t(16536),s=t(31212),n=t(2860),r=t(62472),a=t(61240),l=t(49368),d=t(84780),p=t(83680),x=t(18920),P=t(66880),b=t(58472),D=t(63360),L=t(24907),X=t(84032),F=t(78516),T=t(20236),o=t(17892),y=t(13720),v=t(36552),A=t(2060),S=t(61780),ee=t(336),ae=t(93515),V=t(57908),he=t(44892),m=t(48808),g=t(61912),R=t(15504),E=t(35820),C=t(39540),j=t(56571),O=t(14416),H=t(19856),w=t(80320),U=t(22024),k=t(37636),Z=t(2612);f.exports={parse:h,valid:s,clean:n,inc:r,diff:a,major:l,minor:d,patch:p,prerelease:x,compare:P,rcompare:b,compareLoose:D,compareBuild:L,sort:X,rsort:F,gt:T,lt:o,eq:y,neq:v,gte:A,lte:S,cmp:ee,coerce:ae,Comparator:V,Range:he,satisfies:m,toComparators:g,maxSatisfying:R,minSatisfying:E,minVersion:C,validRange:j,outside:O,gtr:H,ltr:w,intersects:U,simplifyRange:k,subset:Z,SemVer:i,re:e.re,src:e.src,tokens:e.t,SEMVER_SPEC_VERSION:u.SEMVER_SPEC_VERSION,RELEASE_TYPES:u.RELEASE_TYPES,compareIdentifiers:c.compareIdentifiers,rcompareIdentifiers:c.rcompareIdentifiers}},19856:(f,M,t)=>{const e=t(14416),u=(i,c,h)=>e(i,c,">",h);f.exports=u},22024:(f,M,t)=>{const e=t(44892),u=(i,c,h)=>(i=new e(i,h),c=new e(c,h),i.intersects(c,h));f.exports=u},80320:(f,M,t)=>{const e=t(14416),u=(i,c,h)=>e(i,c,"<",h);f.exports=u},15504:(f,M,t)=>{const e=t(94120),u=t(44892),i=(c,h,s)=>{let n=null,r=null,a=null;try{a=new u(h,s)}catch{return null}return c.forEach(l=>{a.test(l)&&(!n||r.compare(l)===-1)&&(n=l,r=new e(n,s))}),n};f.exports=i},35820:(f,M,t)=>{const e=t(94120),u=t(44892),i=(c,h,s)=>{let n=null,r=null,a=null;try{a=new u(h,s)}catch{return null}return c.forEach(l=>{a.test(l)&&(!n||r.compare(l)===1)&&(n=l,r=new e(n,s))}),n};f.exports=i},39540:(f,M,t)=>{const e=t(94120),u=t(44892),i=t(20236),c=(h,s)=>{h=new u(h,s);let n=new e("0.0.0");if(h.test(n)||(n=new e("0.0.0-0"),h.test(n)))return n;n=null;for(let r=0;r<h.set.length;++r){const a=h.set[r];let l=null;a.forEach(d=>{const p=new e(d.semver.version);switch(d.operator){case">":p.prerelease.length===0?p.patch++:p.prerelease.push(0),p.raw=p.format();case"":case">=":(!l||i(p,l))&&(l=p);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}}),l&&(!n||i(n,l))&&(n=l)}return n&&h.test(n)?n:null};f.exports=c},14416:(f,M,t)=>{const e=t(94120),u=t(57908),{ANY:i}=u,c=t(44892),h=t(48808),s=t(20236),n=t(17892),r=t(61780),a=t(2060),l=(d,p,x,P)=>{d=new e(d,P),p=new c(p,P);let b,D,L,X,F;switch(x){case">":b=s,D=r,L=n,X=">",F=">=";break;case"<":b=n,D=a,L=s,X="<",F="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h(d,p,P))return!1;for(let T=0;T<p.set.length;++T){const o=p.set[T];let y=null,v=null;if(o.forEach(A=>{A.semver===i&&(A=new u(">=0.0.0")),y=y||A,v=v||A,b(A.semver,y.semver,P)?y=A:L(A.semver,v.semver,P)&&(v=A)}),y.operator===X||y.operator===F||(!v.operator||v.operator===X)&&D(d,v.semver))return!1;if(v.operator===F&&L(d,v.semver))return!1}return!0};f.exports=l},37636:(f,M,t)=>{const e=t(48808),u=t(66880);f.exports=(i,c,h)=>{const s=[];let n=null,r=null;const a=i.sort((x,P)=>u(x,P,h));for(const x of a)e(x,c,h)?(r=x,n||(n=x)):(r&&s.push([n,r]),r=null,n=null);n&&s.push([n,null]);const l=[];for(const[x,P]of s)x===P?l.push(x):!P&&x===a[0]?l.push("*"):P?x===a[0]?l.push(`<=${P}`):l.push(`${x} - ${P}`):l.push(`>=${x}`);const d=l.join(" || "),p=typeof c.raw=="string"?c.raw:String(c);return d.length<p.length?d:c}},2612:(f,M,t)=>{const e=t(44892),u=t(57908),{ANY:i}=u,c=t(48808),h=t(66880),s=(p,x,P={})=>{if(p===x)return!0;p=new e(p,P),x=new e(x,P);let b=!1;e:for(const D of p.set){for(const L of x.set){const X=a(D,L,P);if(b=b||X!==null,X)continue e}if(b)return!1}return!0},n=[new u(">=0.0.0-0")],r=[new u(">=0.0.0")],a=(p,x,P)=>{if(p===x)return!0;if(p.length===1&&p[0].semver===i){if(x.length===1&&x[0].semver===i)return!0;P.includePrerelease?p=n:p=r}if(x.length===1&&x[0].semver===i){if(P.includePrerelease)return!0;x=r}const b=new Set;let D,L;for(const S of p)S.operator===">"||S.operator===">="?D=l(D,S,P):S.operator==="<"||S.operator==="<="?L=d(L,S,P):b.add(S.semver);if(b.size>1)return null;let X;if(D&&L){if(X=h(D.semver,L.semver,P),X>0)return null;if(X===0&&(D.operator!==">="||L.operator!=="<="))return null}for(const S of b){if(D&&!c(S,String(D),P)||L&&!c(S,String(L),P))return null;for(const ee of x)if(!c(S,String(ee),P))return!1;return!0}let F,T,o,y,v=L&&!P.includePrerelease&&L.semver.prerelease.length?L.semver:!1,A=D&&!P.includePrerelease&&D.semver.prerelease.length?D.semver:!1;v&&v.prerelease.length===1&&L.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const S of x){if(y=y||S.operator===">"||S.operator===">=",o=o||S.operator==="<"||S.operator==="<=",D){if(A&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===A.major&&S.semver.minor===A.minor&&S.semver.patch===A.patch&&(A=!1),S.operator===">"||S.operator===">="){if(F=l(D,S,P),F===S&&F!==D)return!1}else if(D.operator===">="&&!c(D.semver,String(S),P))return!1}if(L){if(v&&S.semver.prerelease&&S.semver.prerelease.length&&S.semver.major===v.major&&S.semver.minor===v.minor&&S.semver.patch===v.patch&&(v=!1),S.operator==="<"||S.operator==="<="){if(T=d(L,S,P),T===S&&T!==L)return!1}else if(L.operator==="<="&&!c(L.semver,String(S),P))return!1}if(!S.operator&&(L||D)&&X!==0)return!1}return!(D&&o&&!L&&X!==0||L&&y&&!D&&X!==0||A||v)},l=(p,x,P)=>{if(!p)return x;const b=h(p.semver,x.semver,P);return b>0?p:b<0||x.operator===">"&&p.operator===">="?x:p},d=(p,x,P)=>{if(!p)return x;const b=h(p.semver,x.semver,P);return b<0?p:b>0||x.operator==="<"&&p.operator==="<="?x:p};f.exports=s},61912:(f,M,t)=>{const e=t(44892),u=(i,c)=>new e(i,c).set.map(h=>h.map(s=>s.value).join(" ").trim().split(" "));f.exports=u},56571:(f,M,t)=>{const e=t(44892),u=(i,c)=>{try{return new e(i,c).range||"*"}catch{return null}};f.exports=u},72868:f=>{"use strict";f.exports=function(M){M.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},97092:(f,M,t)=>{"use strict";f.exports=e,e.Node=h,e.create=e;function e(s){var n=this;if(n instanceof e||(n=new e),n.tail=null,n.head=null,n.length=0,s&&typeof s.forEach=="function")s.forEach(function(l){n.push(l)});else if(arguments.length>0)for(var r=0,a=arguments.length;r<a;r++)n.push(arguments[r]);return n}e.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var n=s.next,r=s.prev;return n&&(n.prev=r),r&&(r.next=n),s===this.head&&(this.head=n),s===this.tail&&(this.tail=r),s.list.length--,s.next=null,s.prev=null,s.list=null,n},e.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var n=this.head;s.list=this,s.next=n,n&&(n.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},e.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var n=this.tail;s.list=this,s.prev=n,n&&(n.next=s),this.tail=s,this.head||(this.head=s),this.length++}},e.prototype.push=function(){for(var s=0,n=arguments.length;s<n;s++)i(this,arguments[s]);return this.length},e.prototype.unshift=function(){for(var s=0,n=arguments.length;s<n;s++)c(this,arguments[s]);return this.length},e.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},e.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},e.prototype.forEach=function(s,n){n=n||this;for(var r=this.head,a=0;r!==null;a++)s.call(n,r.value,a,this),r=r.next},e.prototype.forEachReverse=function(s,n){n=n||this;for(var r=this.tail,a=this.length-1;r!==null;a--)s.call(n,r.value,a,this),r=r.prev},e.prototype.get=function(s){for(var n=0,r=this.head;r!==null&&n<s;n++)r=r.next;if(n===s&&r!==null)return r.value},e.prototype.getReverse=function(s){for(var n=0,r=this.tail;r!==null&&n<s;n++)r=r.prev;if(n===s&&r!==null)return r.value},e.prototype.map=function(s,n){n=n||this;for(var r=new e,a=this.head;a!==null;)r.push(s.call(n,a.value,this)),a=a.next;return r},e.prototype.mapReverse=function(s,n){n=n||this;for(var r=new e,a=this.tail;a!==null;)r.push(s.call(n,a.value,this)),a=a.prev;return r},e.prototype.reduce=function(s,n){var r,a=this.head;if(arguments.length>1)r=n;else if(this.head)a=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;a!==null;l++)r=s(r,a.value,l),a=a.next;return r},e.prototype.reduceReverse=function(s,n){var r,a=this.tail;if(arguments.length>1)r=n;else if(this.tail)a=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;a!==null;l--)r=s(r,a.value,l),a=a.prev;return r},e.prototype.toArray=function(){for(var s=new Array(this.length),n=0,r=this.head;r!==null;n++)s[n]=r.value,r=r.next;return s},e.prototype.toArrayReverse=function(){for(var s=new Array(this.length),n=0,r=this.tail;r!==null;n++)s[n]=r.value,r=r.prev;return s},e.prototype.slice=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var r=new e;if(n<s||n<0)return r;s<0&&(s=0),n>this.length&&(n=this.length);for(var a=0,l=this.head;l!==null&&a<s;a++)l=l.next;for(;l!==null&&a<n;a++,l=l.next)r.push(l.value);return r},e.prototype.sliceReverse=function(s,n){n=n||this.length,n<0&&(n+=this.length),s=s||0,s<0&&(s+=this.length);var r=new e;if(n<s||n<0)return r;s<0&&(s=0),n>this.length&&(n=this.length);for(var a=this.length,l=this.tail;l!==null&&a>n;a--)l=l.prev;for(;l!==null&&a>s;a--,l=l.prev)r.push(l.value);return r},e.prototype.splice=function(s,n,...r){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var a=0,l=this.head;l!==null&&a<s;a++)l=l.next;for(var d=[],a=0;l&&a<n;a++)d.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var a=0;a<r.length;a++)l=u(this,l,r[a]);return d},e.prototype.reverse=function(){for(var s=this.head,n=this.tail,r=s;r!==null;r=r.prev){var a=r.prev;r.prev=r.next,r.next=a}return this.head=n,this.tail=s,this};function u(s,n,r){var a=n===s.head?new h(r,null,n,s):new h(r,n,n.next,s);return a.next===null&&(s.tail=a),a.prev===null&&(s.head=a),s.length++,a}function i(s,n){s.tail=new h(n,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function c(s,n){s.head=new h(n,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function h(s,n,r,a){if(!(this instanceof h))return new h(s,n,r,a);this.list=a,this.value=s,n?(n.next=this,this.prev=n):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{t(72868)(e)}catch{}},3764:(f,M,t)=>{"use strict";t.r(M),t.d(M,{MarketplacePage:()=>Me,ProtectedMarketplacePage:()=>Ze});var e=t(19968),u=t(62552),i=t(84664),c=t(49824),h=t(3144),s=t(51772),n=t(1560),r=t(87860),a=t(65080),l=t(94656),d=t(24596),p=t(23667),x=t(33560),P=t(69372);const b=P.default.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:$})=>$.spaces[4]};
`;var D=t(23128),L=t(11360),X=t(37272),F=t(66040),T=t(8612),o=t(48816),y=t(24012),v=t(41868),A=t(24488),S=t(84800),ee=t(90028),ae=t(65968),V=t(71812),he=t(89456),m=t(51224),g=t(97632),R=t(22528),E=t(18520),C=t(58804),j=t(26680),O=t(85744),H=t(56960),w=t(80904),U=t(17976),k=t(34588),Z=t(21424),q=t(14632),me=t(70516),ve=t(38188),Ae=t(9252),xe=t(82028),Oe=t(61397),ye=t(77492),je=t(12132),Se=t(48632),Je=t(54320),ke=t(5240),qe=t(91892),_e=t(36196),et=t(20880),tt=t(31812),st=t(18424),nt=t(52540),rt=t(21968),at=t(85676),it=t(35184),ot=t(99568),lt=t(96556),ct=t(13192),ht=t(30840),ut=t(77784),dt=t(79371),ft=t(67888),gt=t(52600),pt=t(95752),mt=t(37388),vt=t(61840),xt=t(49108),yt=t(44632),jt=t(50840),St=t(20252),Pt=t(86432),$t=t(22612),Et=t(24808),Ct=t(24024),Rt=t(33656),Mt=t(43280),Tt=t(79804),At=t(19632),Ot=t(29576),Lt=t(61152),wt=t(9589),Nt=t(45488),It=t(75516),Dt=t(17892),Gt=t(31212);const Le=({handleSelectClear:$,handleSelectChange:G,npmPackageType:B,possibleCategories:N,possibleCollections:W,query:Y})=>{const[I,Q]=u.useState(!1),te=u.useRef(null),{formatMessage:_}=(0,q.c)(),J=()=>Q(z=>!z),K=(z,se)=>{const ie={[se]:(Y[se]??[]).filter(oe=>oe!==z)};G(ie)};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.k,{paddingTop:1,paddingBottom:1,children:[(0,e.jsx)(we,{variant:"tertiary",ref:te,startIcon:(0,e.jsx)(he.c,{}),onClick:J,size:"S",children:_({id:"app.utils.filters",defaultMessage:"Filters"})}),I&&(0,e.jsx)(c._k,{source:te,onDismiss:J,padding:3,spacing:4,children:(0,e.jsxs)(Ne,{direction:"column",alignItems:"stretch",gap:1,children:[(0,e.jsx)(Pe,{message:_({id:"admin.pages.MarketPlacePage.filters.collections",defaultMessage:"Collections"}),value:Y?.collections||[],onChange:z=>{G({collections:z})},onClear:()=>$("collections"),possibleFilters:W,customizeContent:z=>_({id:"admin.pages.MarketPlacePage.filters.collectionsSelected",defaultMessage:"{count, plural, =0 {No collections} one {# collection} other {# collections}} selected"},{count:z?.length??0})}),B==="plugin"&&(0,e.jsx)(Pe,{message:_({id:"admin.pages.MarketPlacePage.filters.categories",defaultMessage:"Categories"}),value:Y?.categories||[],onChange:z=>{G({categories:z})},onClear:()=>$("categories"),possibleFilters:N,customizeContent:z=>_({id:"admin.pages.MarketPlacePage.filters.categoriesSelected",defaultMessage:"{count, plural, =0 {No categories} one {# category} other {# categories}} selected"},{count:z?.length??0})})]})})]}),Y.collections?.map(z=>(0,e.jsx)(i.k,{padding:1,children:(0,e.jsx)(h.E,{icon:(0,e.jsx)(m.c,{}),onClick:()=>K(z,"collections"),children:z})},z)),B==="plugin"&&Y.categories?.map(z=>(0,e.jsx)(i.k,{padding:1,children:(0,e.jsx)(h.E,{icon:(0,e.jsx)(m.c,{}),onClick:()=>K(z,"categories"),children:z})},z))]})},we=(0,P.default)(s.Z)`
  height: ${({theme:$})=>$.sizes.input.S};
`,Ne=(0,P.default)(n.C)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Pe=({message:$,value:G,onChange:B,possibleFilters:N,onClear:W,customizeContent:Y})=>(0,e.jsx)(r.e,{"data-testid":`${$}-button`,label:$,placeholder:$,size:"M",onChange:B,onClear:W,value:G,customizeContent:Y,children:Object.entries(N).map(([I,Q])=>(0,e.jsx)(r.eI,{"data-testid":`${I}-${Q}`,value:I,children:`${I} (${Q})`},I))}),Ie=(0,P.default)(a.O)`
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
`,De=({npmPackage:$,isInstalled:G,useYarn:B,isInDevelopmentMode:N,npmPackageType:W,strapiAppVersion:Y})=>{const{attributes:I}=$,{formatMessage:Q}=(0,q.c)(),{trackUsage:te}=(0,V.m4)(),_=B?`yarn add ${I.npmPackageName}`:`npm install ${I.npmPackageName}`,J=Q({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"}),K=`https://market.strapi.io/${Oe.plural(W)}/${I.slug}`;return(0,e.jsxs)(n.C,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:4,paddingBottom:4,paddingLeft:4,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal","data-testid":"npm-package-card",children:[(0,e.jsxs)(i.k,{children:[(0,e.jsxs)(n.C,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[(0,e.jsx)(i.k,{as:"img",src:I.logo.url,alt:`${I.name} logo`,hasRadius:!0,width:11,height:11}),(0,e.jsx)(Be,{githubStars:I.githubStars,npmDownloads:I.npmDownloads,npmPackageType:W})]}),(0,e.jsx)(i.k,{paddingTop:4,children:(0,e.jsx)(a.O,{as:"h3",variant:"delta",children:(0,e.jsxs)(n.C,{alignItems:"center",children:[I.name,I.validated&&!I.madeByStrapi&&(0,e.jsx)(l.o,{description:Q({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"}),children:(0,e.jsx)(n.C,{children:(0,e.jsx)(d.G,{as:g.c,marginLeft:2,color:"success600"})})}),I.madeByStrapi&&(0,e.jsx)(l.o,{description:J,children:(0,e.jsx)(n.C,{children:(0,e.jsx)(i.k,{as:"img",src:ve.S,alt:J,marginLeft:1,width:6,height:"auto"})})})]})})}),(0,e.jsx)(i.k,{paddingTop:2,children:(0,e.jsx)(Ie,{as:"p",variant:"omega",textColor:"neutral600",children:I.description})})]}),(0,e.jsxs)(n.C,{gap:2,style:{alignSelf:"flex-end"},paddingTop:6,children:[(0,e.jsx)(xe.E,{size:"S",href:K,isExternal:!0,endIcon:(0,e.jsx)(R.c,{}),"aria-label":Q({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:I.name}),variant:"tertiary",onClick:()=>te("didPluginLearnMore"),children:Q({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"More"})}),(0,e.jsx)(Ge,{isInstalled:G,isInDevelopmentMode:N,commandToCopy:_,strapiAppVersion:Y,strapiPeerDepVersion:I.strapiVersion,pluginName:I.name})]})]})},Ge=({isInstalled:$,isInDevelopmentMode:G,commandToCopy:B,strapiAppVersion:N,strapiPeerDepVersion:W,pluginName:Y})=>{const I=(0,V.eo)(),{formatMessage:Q}=(0,q.c)(),{trackUsage:te}=(0,V.m4)(),{copy:_}=(0,V.UC)(),J=async()=>{await _(B)&&(te("willInstallPlugin"),I({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}}))};return $?(0,e.jsxs)(i.k,{paddingLeft:4,children:[(0,e.jsx)(d.G,{as:E.c,marginRight:2,width:12,height:12,color:"success600"}),(0,e.jsx)(a.O,{variant:"omega",textColor:"success600",fontWeight:"bold",children:Q({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"})})]}):G?(0,e.jsx)(Ve,{strapiAppVersion:N,strapiPeerDepVersion:W,handleCopy:J,pluginName:Y}):null},Ve=({strapiPeerDepVersion:$,strapiAppVersion:G,handleCopy:B,pluginName:N})=>{const{formatMessage:W}=(0,q.c)(),Y=ye.validRange($),I=ye.satisfies(G??"",Y??""),Q=W({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"});return G&&(!Y||!I)?(0,e.jsx)(l.o,{"data-testid":`tooltip-${N}`,description:Y?W({id:"admin.pages.MarketPlacePage.plugin.version",defaultMessage:'Update your Strapi version: "{strapiAppVersion}" to: "{versionRange}"'},{strapiAppVersion:G,versionRange:Y}):W({id:"admin.pages.MarketPlacePage.plugin.version.null",defaultMessage:'Unable to verify compatibility with your Strapi version: "{strapiAppVersion}"'},{strapiAppVersion:G}),children:(0,e.jsx)(s.Z,{size:"S",startIcon:(0,e.jsx)(C.c,{}),variant:"secondary",onClick:B,disabled:!I,children:Q})}):(0,e.jsx)(s.Z,{size:"S",startIcon:(0,e.jsx)(C.c,{}),variant:"secondary",onClick:B,children:Q})},Be=({githubStars:$=0,npmDownloads:G=0,npmPackageType:B})=>{const{formatMessage:N}=(0,q.c)();return(0,e.jsxs)(n.C,{gap:1,children:[!!$&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d.G,{as:j.c,height:(0,V.W8)(12),width:(0,V.W8)(12),"aria-hidden":!0}),(0,e.jsx)(d.G,{as:O.c,height:(0,V.W8)(12),width:(0,V.W8)(12),color:"warning500","aria-hidden":!0}),(0,e.jsx)("p",{"aria-label":N({id:`admin.pages.MarketPlacePage.${B}.githubStars`,defaultMessage:"This {package} was starred {starsCount} on GitHub"},{starsCount:$,package:B}),children:(0,e.jsx)(a.O,{variant:"pi",textColor:"neutral800",children:$})}),(0,e.jsx)(Fe,{unsetMargin:!1})]}),(0,e.jsx)(d.G,{as:H.c,height:(0,V.W8)(12),width:(0,V.W8)(12),"aria-hidden":!0}),(0,e.jsx)("p",{"aria-label":N({id:`admin.pages.MarketPlacePage.${B}.downloads`,defaultMessage:"This {package} has {downloadsCount} weekly downloads"},{downloadsCount:G,package:B}),children:(0,e.jsx)(a.O,{variant:"pi",textColor:"neutral800",children:G})})]})},Fe=(0,P.default)(p.c)`
  width: ${(0,V.W8)(12)};
  transform: rotate(90deg);
`,$e=({status:$,npmPackages:G=[],installedPackageNames:B=[],useYarn:N,isInDevelopmentMode:W,npmPackageType:Y,strapiAppVersion:I,debouncedSearch:Q})=>{const{formatMessage:te}=(0,q.c)();if($==="error")return(0,e.jsx)(n.C,{paddingTop:8,children:(0,e.jsx)(V.wF,{})});if($==="loading")return(0,e.jsx)(n.C,{justifyContent:"center",paddingTop:8,children:(0,e.jsx)(x.c,{children:"Loading content..."})});const _=te({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:Q});return G.length===0?(0,e.jsxs)(i.k,{position:"relative",children:[(0,e.jsx)(b,{children:Array(12).fill(null).map((J,K)=>(0,e.jsx)(He,{height:"234px",hasRadius:!0},K))}),(0,e.jsx)(i.k,{position:"absolute",top:11,width:"100%",children:(0,e.jsxs)(n.C,{alignItems:"center",justifyContent:"center",direction:"column",children:[(0,e.jsx)(d.G,{as:w.c,color:void 0,width:"160px",height:"88px"}),(0,e.jsx)(i.k,{paddingTop:6,children:(0,e.jsx)(a.O,{variant:"delta",as:"p",textColor:"neutral600",children:_})})]})})]}):(0,e.jsx)(D.y,{gap:4,children:G.map(J=>(0,e.jsx)(L.C,{col:4,s:6,xs:12,style:{height:"100%"},children:(0,e.jsx)(De,{npmPackage:J,isInstalled:B.includes(J.attributes.npmPackageName),useYarn:N,isInDevelopmentMode:W,npmPackageType:Y,strapiAppVersion:I})},J.id))})},He=(0,P.default)(i.k)`
  background: ${({theme:$})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${$.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Ee=({isOnline:$,npmPackageType:G="plugin"})=>{const{formatMessage:B}=(0,q.c)(),{trackUsage:N}=(0,V.m4)(),W=G==="provider"?"didSubmitProvider":"didSubmitPlugin";return(0,e.jsx)(X.a,{title:B({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:B({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:$&&(0,e.jsx)(xe.E,{startIcon:(0,e.jsx)(U.c,{}),variant:"tertiary",href:`https://market.strapi.io/submit-${G}`,onClick:()=>N(W),isExternal:!0,children:B({id:`admin.pages.MarketPlacePage.submit.${G}.link`,defaultMessage:`Submit ${G}`})})})},We=()=>{const{formatMessage:$}=(0,q.c)();return(0,e.jsx)(F._,{children:(0,e.jsxs)(T.G,{children:[(0,e.jsx)(Ee,{}),(0,e.jsxs)(n.C,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",paddingTop:(0,V.W8)(120),children:[(0,e.jsx)(i.k,{paddingBottom:2,children:(0,e.jsx)(a.O,{textColor:"neutral700",variant:"alpha",children:$({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"})})}),(0,e.jsx)(i.k,{paddingBottom:6,children:(0,e.jsx)(a.O,{textColor:"neutral700",variant:"epsilon",children:$({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."})})}),(0,e.jsxs)("svg",{width:"88",height:"88",viewBox:"0 0 88 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",fill:"#F0F0FF"}),(0,e.jsx)("path",{d:"M34 39.3h-4c-2.6 0-4.7 1-6.6 2.8a9 9 0 0 0-2.7 6.6 9 9 0 0 0 2.7 6.6A9 9 0 0 0 30 58h22.8L34 39.3Zm-11-11 3-3 39 39-3 3-4.7-4.6H30a13.8 13.8 0 0 1-14-14c0-3.8 1.3-7 4-9.7 2.6-2.7 5.7-4.2 9.5-4.3L23 28.2Zm38.2 11.1c3 .2 5.5 1.5 7.6 3.7A11 11 0 0 1 72 51c0 4-1.6 7.2-5 9.5l-3.3-3.4a6.5 6.5 0 0 0 3.6-6.1c0-1.9-.7-3.5-2-5-1.5-1.3-3.1-2-5-2h-3.5v-1.2c0-3.6-1.2-6.6-3.7-9a13 13 0 0 0-15-2.3L34.6 28a17 17 0 0 1 20.3 1.5c3.5 2.7 5.5 6 6.3 10Z",fill:"#4945FF"}),(0,e.jsx)("rect",{x:".5",y:".5",width:"87",height:"87",rx:"43.5",stroke:"#D9D8FF"})]})]})]})})},Ce={"name:asc":{selected:{id:"admin.pages.MarketPlacePage.sort.alphabetical.selected",defaultMessage:"Sort by alphabetical order"},option:{id:"admin.pages.MarketPlacePage.sort.alphabetical",defaultMessage:"Alphabetical order"}},"submissionDate:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.newest.selected",defaultMessage:"Sort by newest"},option:{id:"admin.pages.MarketPlacePage.sort.newest",defaultMessage:"Newest"}},"githubStars:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.githubStars.selected",defaultMessage:"Sort by GitHub stars"},option:{id:"admin.pages.MarketPlacePage.sort.githubStars",defaultMessage:"Number of GitHub stars"}},"npmDownloads:desc":{selected:{id:"admin.pages.MarketPlacePage.sort.npmDownloads.selected",defaultMessage:"Sort by npm downloads"},option:{id:"admin.pages.MarketPlacePage.sort.npmDownloads",defaultMessage:"Number of downloads"}}},be=({sortQuery:$,handleSelectChange:G})=>{const{formatMessage:B}=(0,q.c)();return(0,e.jsx)(Ue,{children:(0,e.jsx)(o.K_,{size:"S",id:"sort-by-select",value:$,customizeContent:()=>B(Ce[$].selected),onChange:N=>{G({sort:N})},label:B({id:"admin.pages.MarketPlacePage.sort.label",defaultMessage:"Sort by"}),children:Object.entries(Ce).map(([N,W])=>(0,e.jsx)(o.kH,{value:N,children:B(W.option)},N))})})},Ue=(0,P.default)(i.k)`
  font-weight: ${({theme:$})=>$.fontWeights.semiBold};

  span {
    font-size: ${({theme:$})=>$.fontSizes[1]};
  }

  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`,Re="https://market-api.strapi.io";function ze({npmPackageType:$,debouncedSearch:G,query:B,tabQuery:N}){const{notifyStatus:W}=(0,y.O)(),{formatMessage:Y}=(0,q.c)(),I=(0,V.eo)(),Q=Y({id:"global.marketplace",defaultMessage:"Marketplace"}),te=()=>{W(Y({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:Q}))},_={page:B?.page||1,pageSize:B?.pageSize||24},J={...N.plugin,pagination:_,search:G},{data:K,status:z}=(0,Se.useQuery)(["marketplace","plugins",J],async()=>{try{const le=je.stringify(J),ce=await fetch(`${Re}/plugins?${le}`);if(!ce.ok)throw new Error("Failed to fetch marketplace plugins.");return await ce.json()}catch{}return null},{onSuccess(){te()},onError(){I({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),se={...N.provider,pagination:_,search:G},{data:ie,status:oe}=(0,Se.useQuery)(["marketplace","providers",se],async()=>{const le=je.stringify(se),ce=await fetch(`${Re}/providers?${le}`);if(!ce.ok)throw new Error("Failed to fetch marketplace providers.");return await ce.json()},{onSuccess(){te()},onError(){I({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),ue=$==="plugin"?K:ie,fe=ue?.meta.collections??{},ge=K?.meta.categories??{},{pagination:pe}=ue?.meta??{};return{pluginsResponse:K,providersResponse:ie,pluginsStatus:z,providersStatus:oe,possibleCollections:fe,possibleCategories:ge,pagination:pe}}const Ye=()=>{const $=typeof navigator<"u"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[G,B]=u.useState($),N=()=>B(!0),W=()=>B(!1);return u.useEffect(()=>(window.addEventListener("online",N),window.addEventListener("offline",W),()=>{window.removeEventListener("online",N),window.removeEventListener("offline",W)}),[]),G},Me=()=>{const{formatMessage:$}=(0,q.c)(),{trackUsage:G}=(0,V.m4)(),B=(0,V.eo)(),[{query:N},W]=(0,V.WK)(),Y=(0,ve.k)(N?.search,500)||"",{autoReload:I,dependencies:Q,useYarn:te,strapiVersion:_}=(0,V.s7)(),J=Ye(),K=N?.npmPackageType||"plugin",[z,se]=u.useState({plugin:K==="plugin"?{...N}:{},provider:K==="provider"?{...N}:{}});(0,V.G0)(),u.useEffect(()=>{G("didGoToMarketplace")},[G]),u.useEffect(()=>{I||B({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"}})},[B,I]);const{pluginsResponse:ie,providersResponse:oe,pluginsStatus:ue,providersStatus:fe,possibleCollections:ge,possibleCategories:pe,pagination:le}=ze({npmPackageType:K,debouncedSearch:Y,query:N,tabQuery:z});if(!J)return(0,e.jsx)(We,{});const ce=ne=>{const re=ne===0?"plugin":"provider",Qe=z[re]&&Object.keys(z[re]).length;W(Qe?{...z[re],search:N?.search||"",npmPackageType:re,page:1}:{npmPackageType:re,collections:[],categories:[],sort:"name:asc",page:1,search:N?.search||""})},de=ne=>{W({...ne,page:1}),se(re=>({...re,[K]:{...re[K],...ne}}))},Xe=ne=>{W({[ne]:[],page:void 0},"remove"),se(re=>({...re,[K]:{}}))},Ke=({sort:ne})=>de({sort:ne}),Te=Object.keys(Q??{});return(0,e.jsx)(F._,{children:(0,e.jsxs)(T.G,{children:[(0,e.jsx)(Z.S,{title:$({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),(0,e.jsx)(Ee,{isOnline:J,npmPackageType:K}),(0,e.jsxs)(v.S,{children:[(0,e.jsxs)(A.M,{label:$({id:"admin.pages.MarketPlacePage.tab-group.label",defaultMessage:"Plugins and Providers for Strapi"}),id:"tabs",variant:"simple",initialSelectedTabIndex:["plugin","provider"].indexOf(K),onTabChange:ce,children:[(0,e.jsxs)(n.C,{justifyContent:"space-between",paddingBottom:4,children:[(0,e.jsxs)(S.k,{children:[(0,e.jsxs)(S.s,{children:[$({id:"admin.pages.MarketPlacePage.plugins",defaultMessage:"Plugins"})," ",ie?`(${ie.meta.pagination.total})`:"..."]}),(0,e.jsxs)(S.s,{children:[$({id:"admin.pages.MarketPlacePage.providers",defaultMessage:"Providers"})," ",oe?`(${oe.meta.pagination.total})`:"..."]})]}),(0,e.jsx)(i.k,{width:"25%",children:(0,e.jsx)(ee.E,{name:"searchbar",onClear:()=>W({search:"",page:1}),value:N?.search,onChange:ne=>W({search:ne.target.value,page:1}),clearLabel:$({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the search"}),placeholder:$({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"}),children:$({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search"})})})]}),(0,e.jsxs)(n.C,{paddingBottom:4,gap:2,children:[(0,e.jsx)(be,{sortQuery:N?.sort||"name:asc",handleSelectChange:Ke}),(0,e.jsx)(Le,{npmPackageType:K,possibleCollections:ge,possibleCategories:pe,query:N||{},handleSelectChange:de,handleSelectClear:Xe})]}),(0,e.jsxs)(ae.o,{children:[(0,e.jsx)(ae.G,{children:(0,e.jsx)($e,{npmPackages:ie?.data,status:ue,installedPackageNames:Te,useYarn:te,isInDevelopmentMode:I,npmPackageType:"plugin",strapiAppVersion:_,debouncedSearch:Y})}),(0,e.jsx)(ae.G,{children:(0,e.jsx)($e,{npmPackages:oe?.data,status:fe,installedPackageNames:Te,useYarn:te,isInDevelopmentMode:I,npmPackageType:"provider",debouncedSearch:Y})})]})]}),le?(0,e.jsx)(i.k,{paddingTop:4,children:(0,e.jsxs)(n.C,{alignItems:"flex-end",justifyContent:"space-between",children:[(0,e.jsx)(V.A7,{options:["12","24","50","100"],defaultValue:"24"}),(0,e.jsx)(V.cZ,{pagination:le})]})}):null,(0,e.jsx)(i.k,{paddingTop:8,children:(0,e.jsx)("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>G("didMissMarketplacePlugin"),children:(0,e.jsx)(V._y,{title:$({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:$({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:(0,e.jsx)(k.c,{}),iconBackground:"alternative100",endAction:(0,e.jsx)(d.G,{as:R.c,color:"neutral600",width:3,height:3,marginLeft:2})})})})]})]})})},Ze=()=>{const $=(0,me.w1)(Ae.s);return(0,e.jsx)(V.rF,{permissions:$.marketplace.main,children:(0,e.jsx)(Me,{})})}},26680:(f,M,t)=>{"use strict";t.d(M,{c:()=>i});var e=t(19968);const u=c=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:(0,e.jsx)("path",{fill:"#161614",d:"M12 0C5.373 0 0 5.501 0 12.288c0 5.43 3.438 10.035 8.206 11.66.6.114.82-.266.82-.59 0-.294-.01-1.262-.016-2.289-3.338.744-4.043-1.45-4.043-1.45-.546-1.42-1.332-1.797-1.332-1.797-1.089-.763.082-.747.082-.747 1.205.086 1.84 1.266 1.84 1.266 1.07 1.878 2.807 1.335 3.491 1.021.108-.794.42-1.336.762-1.643-2.665-.31-5.467-1.364-5.467-6.073 0-1.341.469-2.437 1.236-3.298-.124-.31-.535-1.56.117-3.252 0 0 1.007-.33 3.3 1.26A11.25 11.25 0 0 1 12 5.942c1.02.005 2.047.141 3.006.414 2.29-1.59 3.297-1.26 3.297-1.26.653 1.693.242 2.943.118 3.252.77.86 1.235 1.957 1.235 3.298 0 4.72-2.808 5.76-5.48 6.063.43.382.814 1.13.814 2.276 0 1.644-.014 2.967-.014 3.372 0 .327.216.71.825.59C20.566 22.32 24 17.715 24 12.288 24 5.501 18.627 0 12 0Z"})}),i=u},34588:(f,M,t)=>{"use strict";t.d(M,{c:()=>i});var e=t(19968);const u=c=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 32 32",...c,children:[(0,e.jsx)("path",{fill:"#AC73E6",d:"M0 4a4 4 0 0 1 4-4h24a4 4 0 0 1 4 4v24a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4Z"}),(0,e.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0Z",clipRule:"evenodd"})]}),i=u},17976:(f,M,t)=>{"use strict";t.d(M,{c:()=>i});var e=t(19968);const u=c=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 25",...c,children:(0,e.jsx)("path",{fill:"#212134",fillRule:"evenodd",d:"M13.571 18.272H10.43v-8.47H2.487a.2.2 0 0 1-.14-.343L11.858.058a.2.2 0 0 1 .282 0l9.513 9.4a.2.2 0 0 1-.14.343H13.57v8.47ZM2.2 21.095a.2.2 0 0 0-.2.2v2.424c0 .11.09.2.2.2h19.6a.2.2 0 0 0 .2-.2v-2.424a.2.2 0 0 0-.2-.2H2.2Z",clipRule:"evenodd"})}),i=u}}]);
