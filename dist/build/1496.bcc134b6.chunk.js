"use strict";(self.webpackChunke_commerce_server=self.webpackChunke_commerce_server||[]).push([[1496],{8800:(d,o,_)=>{_.d(o,{a:()=>P,g:()=>a});var s=_(58540),t=_(48132);function a(O){if(!O)return null;const e=Object.entries(s.g.colors).filter(([,l])=>l.toUpperCase()===O.toUpperCase()).reduce((l,[i])=>(t.S?.[i]&&(l=i),l),null);return e?{themeColorName:e,name:t.S[e]}:null}function P(){return Object.entries(t.S).map(([O,r])=>({hex:s.g.colors[O].toUpperCase(),name:r}))}},48132:(d,o,_)=>{_.d(o,{A:()=>e,C:()=>S,D:()=>K,R:()=>t,S:()=>n,a:()=>U,b:()=>g,c:()=>l,d:()=>E,e:()=>a,f:()=>P,g:()=>r,h:()=>O,i:()=>L,j:()=>M,k:()=>i,l:()=>T,m:()=>W,n:()=>A});var s=_(58540);const t="settings_review-workflows",a="Settings/Review_Workflows/RESET_WORKFLOW",P="Settings/Review_Workflows/SET_CONTENT_TYPES",O="Settings/Review_Workflows/SET_IS_LOADING",r="Settings/Review_Workflows/SET_ROLES",e="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",E="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",M="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",T="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",W="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",A="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",L="Settings/Review_Workflows/WORKFLOW_UPDATE",n={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},g=s.g.colors.primary600,K={STAGE:"stage"},S="numberOfWorkflows",U="stagesPerWorkflow"},51496:(d,o,_)=>{_.r(o),_.d(o,{REVIEW_WORKFLOW_COLUMNS_EE:()=>y,REVIEW_WORKFLOW_FILTERS:()=>u});var s=_(38188),t=_(41864),a=_(19968),P=_(66216),O=_(12192),r=_(48816),e=_(1560),l=_(65080),i=_(33560),E=_(14632),M=_(30320),T=_(8800),W=_(71812),A=_(54320),L=_(5240),n=_(91892),g=_(36196),K=_(20880),S=_(21424),U=_(62552),w=_(70516),G=_(48632),j=_(31812),p=_(18424),x=_(52540),$=_(21968),Y=_(12132),k=_(85676),V=_(35184),H=_(99568),Q=_(96556),z=_(13192),X=_(30840),J=_(77784),Z=_(79371),b=_(67888),q=_(52600),__=_(95752),s_=_(37388),t_=_(61840),a_=_(49108),E_=_(44632),e_=_(50840),n_=_(20252),o_=_(86432),O_=_(22612),l_=_(24808),r_=_(24024),i_=_(33656),P_=_(43280),D_=_(79804),M_=_(19632),T_=_(29576),d_=_(61152),W_=_(9589),A_=_(45488),R_=_(75516),m_=_(48132);const c=({value:R,onChange:C})=>{const{formatMessage:m}=(0,E.c)(),{users:I,isLoading:v}=(0,s.g)();return(0,a.jsx)(P.k1,{value:R,"aria-label":m({id:"content-manager.components.Filters.usersSelect.label",defaultMessage:"Search and select an user to filter"}),onChange:C,loading:v,children:I.map(D=>(0,a.jsx)(O.m,{value:D.id.toString(),children:(0,s.h)(D,m)},D.id))})},h=({value:R,onChange:C,uid:m})=>{const{formatMessage:I}=(0,E.c)(),{workflows:[v],isLoading:D}=(0,M.u)({filters:{contentTypes:m}});return(0,a.jsx)(r.K_,{"aria-label":I({id:"content-manager.components.Filters.reviewWorkflows.label",defaultMessage:"Search and select an workflow stage to filter"}),value:R,onChange:C,loading:D,customizeContent:()=>(0,a.jsxs)(e.C,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%",children:[(0,a.jsx)(l.O,{textColor:"neutral800",ellipsis:!0,children:R}),D?(0,a.jsx)(i.c,{small:!0,style:{display:"flex"}}):null]}),children:(v?.stages??[]).map(({id:N,color:f,name:B})=>{const{themeColorName:F}=(0,T.g)(f)??{};return(0,a.jsx)(r.kH,{startIcon:(0,a.jsx)(e.C,{height:2,background:f,borderColor:F==="neutral0"?"neutral150":void 0,hasRadius:!0,shrink:0,width:2}),value:B,children:B},N)})})},y=[{key:`__${t.S}_temp_key__`,name:t.S,fieldSchema:{type:"relation",relation:"oneToMany",target:"admin::review-workflow-stage"},metadatas:{label:{id:(0,s.i)("containers.ListPage.table-headers.reviewWorkflows.stage"),defaultMessage:"Review stage"},searchable:!1,sortable:!0,mainField:{name:"name",type:"string"}}},{key:`__${t.A}_temp_key__`,name:t.A,fieldSchema:{type:"relation",target:"admin::user",relation:"oneToMany"},metadatas:{label:{id:(0,s.i)("containers.ListPage.table-headers.reviewWorkflows.assignee"),defaultMessage:"Assignee"},searchable:!1,sortable:!0,mainField:{name:"firstname",type:"string"}}}],u=[{fieldSchema:{type:"relation",mainField:{name:"name",schema:{type:"string"}}},metadatas:{customInput:h,label:{id:(0,s.i)("containers.ListPage.table-headers.reviewWorkflows.stage"),defaultMessage:"Review stage"}},name:"strapi_stage"},{fieldSchema:{type:"relation",mainField:{name:"id",schema:{type:"integer"}}},metadatas:{customInput:c,customOperators:[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"}],label:{id:(0,s.i)("containers.ListPage.table-headers.reviewWorkflows.assignee.label"),defaultMessage:"Assignee"}},name:"strapi_assignee"}]},41864:(d,o,_)=>{_.d(o,{A:()=>t,S:()=>s});const s="strapi_stage",t="strapi_assignee"},30320:(d,o,_)=>{_.d(o,{u:()=>P});var s=_(62552),t=_(71812),a=_(48632);function P(O={}){const{get:r}=(0,t.Qn)(),{id:e="",...l}=O,i={populate:"stages"},{data:E,isLoading:M,status:T,refetch:W}=(0,a.useQuery)(["review-workflows","workflows",e],async()=>{const{data:n}=await r(`/admin/review-workflows/workflows/${e}`,{params:{...i,...l}});return n}),A=s.useMemo(()=>{let n=[];return E?.data&&(Array.isArray(E.data)?n=E.data:n=[E.data]),n},[E]);return{meta:s.useMemo(()=>{let n;return E&&"meta"in E&&(n=E.meta),n},[E]),workflows:A,isLoading:M,status:T,refetch:W}}}}]);
